import{o as i,a as c,e as l,M as p,S as _,T as $,h as d,P as N,k as I,n as m,g as C,L as y,a5 as w,a7 as S,ah as O,ar as L,aI as D,a4 as G,aG as M,N as T,V as P,a8 as E,Q as z,F as B,a9 as H,z as R,A as j}from"./index-DIL_pLmJ.js";import{s as U}from"./vue-data-ui-DF7u-eZV-hcmE5A1B.js";const V={name:"vue-ui-table",props:{config:{type:Object,default(){return{}}},dataset:{type:Object,default(){return{}}}},data(){return{uid:`vue-ui-table-${Math.random()}`,bodyCopy:JSON.parse(JSON.stringify(this.dataset.body)).map((s,o)=>({...s,absoluteIndex:o})),buttonTimeout:null,canMoveChart:!1,chart:{height:316,type:"bar",width:512},constants:{ASC:1,BAR:"bar",DATE:"date",DESC:-1,DONUT:"donut",LINE:"line",NUMERIC:"numeric",PERCENTAGE:"percentage",TEXT:"text"},clientX:100,clientY:100,cssClass:{CELL:"smart-td-selected",FIRST_TD:"smart-td-selected-first",LAST_TD:"smart-td-selected-last",ROW:"smart-td-selected-neighbor"},currentDonut:void 0,currentFilter:void 0,currentSearch:void 0,currentSelectionSpan:{col:void 0,rows:[]},currentPage:0,dates:{},filteredDatesIndexes:{},hasNaN:{},iconColor:"#2D353C",iconSize:20,immutableRangeFilters:{},isExportRequest:!1,isLoading:!1,itemsPerPage:this.config.rowsPerPage?this.config.rowsPerPage:25,multiselects:{},paginatorOptions:[...new Set([10,25,50,100,250,500,this.config.rowsPerPage?this.config.rowsPerPage:25,this.dataset.body.length])].sort((s,o)=>s-o),palette:j,percentages:{},rafId:null,rangeFilters:{},searches:{},selectedColumn:void 0,selectedDonutCategory:void 0,selectedPlot:void 0,showChart:!1,showDonutOptions:!1,sorts:{},tableBody:JSON.parse(JSON.stringify(this.dataset.body)).map((s,o)=>({...s,absoluteIndex:o})),tableHead:JSON.parse(JSON.stringify(this.dataset.header)).map(s=>({average:Object.hasOwn(s,"average")?s.average:!1,decimals:Object.hasOwn(s,"decimals")?s.decimals:0,isMultiselect:Object.hasOwn(s,"isMultiselect")?s.isMultiselect:!1,isPercentage:Object.hasOwn(s,"isPercentage")?s.isPercentage:!1,isSearch:Object.hasOwn(s,"isSearch")?s.isSearch:!1,isSort:Object.hasOwn(s,"isSort")?s.isSort:!1,name:s.name,percentageTo:Object.hasOwn(s,"percentageTo")?s.percentageTo:void 0,prefix:Object.hasOwn(s,"prefix")?s.prefix:"",rangeFilter:Object.hasOwn(s,"rangeFilter")?s.rangeFilter:!1,suffix:Object.hasOwn(s,"suffix")?s.suffix:"",sum:Object.hasOwn(s,"sum")?s.sum:!1,type:s.type}))}},mounted(){if(this.dataset.header.length===0)throw new Error(`vue-ui-table error: missing header data.
Provide an array of objects of type:
{
 name: string;
 type: string; ('text' | 'numeric' | 'date')
 average: boolean;
 decimals: number | undefined;
 sum: boolean;
 isSort:boolean;
 isSearch: boolean;
 isMultiselect: boolean;
 isPercentage: boolean;
 percentageTo: string; (or '')
}`);if(this.dataset.body.length===0)throw new Error("vue-ui-table error: missing body data");this.isLoading=!0,this.promiseWithAsyncFunction(this.prepareBodyCopy,()=>{this.$forceUpdate(),this.isLoading=!1}),document.addEventListener("keydown",s=>{const o=document.activeElement;(o&&Array.from(o.classList).includes("td-focusable")&&s.key.includes("Arrow")||s.code==="Space")&&s.preventDefault()})},watch:{showChart:function(s){s&&this.$nextTick(()=>{this.closeDragElement();const o=this.$refs.chartModal;o.onmousedown=this.dragMouseDown})}},computed:{availableDonutCategories(){return Object.keys(this.multiselects).map(s=>({index:s,name:this.dataset.header[s].name,options:this.multiselects[s]}))},canChart(){return this.FINAL_CONFIG.useChart&&this.currentSelectionSpan.rows.length>1},chartData(){if(!this.canChart)return[];const s=316,o=512,r=this.currentSelectionSpan.rows.length,h=o/r,e=Math.max(...this.currentSelectionSpan.rows.map(F=>F.value)),t=Math.min(...this.currentSelectionSpan.rows.map(F=>F.value)),a=t>=0?0:Math.abs(t),n=e+a,u=e<0&&t<0,g=this.dataset.header[this.currentSelectionSpan.col].isPercentage,b=this.currentSelectionSpan.rows.map((F,x)=>({x:h*x+h/2,y:(1-(F.value+a)/n)*s,value:g?F.value*100:F.value,suffix:g?"%":this.dataset.header[this.currentSelectionSpan.col].suffix?this.dataset.header[this.currentSelectionSpan.col].suffix:"",prefix:this.dataset.header[this.currentSelectionSpan.col].prefix?this.dataset.header[this.currentSelectionSpan.col].prefix:"",index:F.index,absoluteValue:g?Math.abs(F.value)*100:Math.abs(F.value)})),f=s-s*(a/n);return{isAllNegative:u,zero:f,plots:b,slot:h,progression:b.length>=2?this.calcLinearProgression(b):!1}},donutHollowLabels(){return{total:Number((this.currentDonut.map(s=>s.absoluteValue).reduce((s,o)=>s+o,0)*(this.dataset.header[this.currentSelectionSpan.col].isPercentage?100:1)).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),average:Number((this.currentDonut.map(s=>s.absoluteValue).reduce((s,o)=>s+o,0)/this.currentSelectionSpan.rows.length*(this.dataset.header[this.currentSelectionSpan.col].isPercentage?100:1)).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString()}},hasNumericTypes(){return this.dataset.header.map(s=>s.type).includes(this.constants.NUMERIC)},icons(){return{arrowSort:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 9l4 -4l4 4m-4 -4v14" /><path d="M21 15l-4 4l-4 -4m4 4v-14" /></svg>`,bar:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M9 8m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M15 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" /><path d="M4 20l14 0" /></svg>`,chart:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 19l16 0" /><path d="M4 15l4 -6l4 2l4 -5l4 4" /></svg>`,chevronDown:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6l6 -6" /></svg>`,chevronLeft:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize*1.6}" height="${this.iconSize*1.6}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 6l-6 6l6 6" /></svg>`,chevronRight:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize*1.6}" height="${this.iconSize*1.6}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 6l6 6l-6 6" /></svg>`,donut:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize*.8}" height="${this.iconSize*.8}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3v5m4 4h5" /><path d="M8.929 14.582l-3.429 2.918" /><path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /></svg>`,export:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5" /><path d="M3 10h18" /><path d="M10 3v18" /><path d="M16 19h6" /><path d="M19 16l3 3l-3 3" /></svg>`,fileDownload:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M12 17v-6" /><path d="M9.5 14.5l2.5 2.5l2.5 -2.5" /></svg>`,filter:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z" /></svg>`,move:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 9l3 3l-3 3" /><path d="M15 12h6" /><path d="M6 9l-3 3l3 3" /><path d="M3 12h6" /><path d="M9 18l3 3l3 -3" /><path d="M12 15v6" /><path d="M15 6l-3 -3l-3 3" /><path d="M12 3v6" /></svg>`,sort09:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /><path d="M17 3a2 2 0 0 1 2 2v3a2 2 0 1 1 -4 0v-3a2 2 0 0 1 2 -2z" /><path d="M17 16m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M19 16v3a2 2 0 0 1 -2 2h-1.5" /></svg>`,sort90:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /><path d="M17 14a2 2 0 0 1 2 2v3a2 2 0 1 1 -4 0v-3a2 2 0 0 1 2 -2z" /><path d="M17 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M19 5v3a2 2 0 0 1 -2 2h-1.5" /></svg>`,sortAZ:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4" /><path d="M19 21h-4l4 -7h-4" /><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /></svg>`,sortZA:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 21v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4" /><path d="M19 10h-4l4 -7h-4" /><path d="M4 15l3 3l3 -3" /><path d="M7 6v12" /></svg>`,sum:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>`,table:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize}" height="${this.iconSize}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" fill="white" d="M 10 2, 21 2, 21 21, 10 21Z"/><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z" /><path d="M3 10h18" /><path d="M10 3v18" /></svg>`,warning:`<svg xmlns="http://www.w3.org/2000/svg" width="${this.iconSize*.8}" height="${this.iconSize*.8}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z" /><path d="M12 9v4" /><path d="M12 17h.01" /></svg>`}},pages(){const s=[];if(this.bodyCopy.length)for(let o=0;o<this.bodyCopy.length;o+=this.itemsPerPage)s.push(this.bodyCopy.slice(o,o+this.itemsPerPage));return s},rows(){return this.bodyCopy.map(s=>s.td)},selectedCellsCalculations(){return{sumPercentage:Number((this.currentSelectionSpan.rows.map(s=>s.value).reduce((s,o)=>s+o,0)*100).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),sumRegular:Number(this.currentSelectionSpan.rows.map(s=>s.value).reduce((s,o)=>s+o,0).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),averagePercentage:Number((this.currentSelectionSpan.rows.map(s=>s.value).reduce((s,o)=>s+o,0)/this.currentSelectionSpan.rows.length*100).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString(),averageRegular:Number((this.currentSelectionSpan.rows.map(s=>s.value).reduce((s,o)=>s+o,0)/this.currentSelectionSpan.rows.length).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString()}},FINAL_CONFIG(){const{vue_ui_table:s}=R();if(!Object.keys(this.config||{}).length)return s;const o=this.treeShake({defaultConfig:s,userConfig:this.config});return this.convertConfigColors(o)},visibleRows(){return this.pages[this.currentPage]}},methods:{treeShake:H,makeDonut:B,convertColorToHex:z,convertConfigColors:E,createCsvContent:P,downloadCsv:T,applyDonutOption(){const s=this.selectedDonutCategory.options.map((o,r)=>({name:o,color:this.palette[r]||this.palette[r%this.palette.length],value:this.visibleRows.filter((h,e)=>h.td[this.selectedDonutCategory.index]===o&&this.currentSelectionSpan.rows.map(t=>t.index).includes(e)).map(h=>h.td[this.currentSelectionSpan.col]).reduce((h,e)=>Math.abs(h)+Math.abs(e),0),absoluteValue:this.visibleRows.filter((h,e)=>h.td[this.selectedDonutCategory.index]===o&&this.currentSelectionSpan.rows.map(t=>t.index).includes(e)).map(h=>h.td[this.currentSelectionSpan.col]).reduce((h,e)=>h+e,0)})).sort((o,r)=>r.value-o.value);this.currentDonut=this.makeDonut({series:s},50,50,30,30),this.$nextTick(()=>{this.chart.type=this.constants.DONUT,this.showDonutOptions=!1})},calcRectY(s,o){return s>=0?o:this.chartData.zero},canResetColumn(s,o){return!this.hasNaN[s]&&(o.isSort||o.isSearch||o.isMultiselect||o.rangeFilter)&&![this.constants.DATE].includes(o.type)},createXls(s="all"){const o=this.dataset.header.map(t=>t.name),r=s==="all"?this.bodyCopy.map(t=>t.td):this.visibleRows.map(t=>t.td),h=[o].concat(r),e=this.createCsvContent(h);this.downloadCsv({csvContent:e,title:"vue-ui-table"})},calcLinearProgression:M,closeAllDropdowns(){const s=document.getElementsByClassName("th-dropdown");s.length&&Array.from(s).forEach(o=>{o.dataset.isOpen=!1})},debounce(s,o){let r;clearTimeout(r),r=setTimeout(s,o)},filterBody(){this.bodyCopy=this.tableBody.filter(s=>{for(const o in this.searches)if(!s.td[o].toUpperCase().includes(this.searches[o].toUpperCase()))return!1;for(const o in this.multiselects)if(!this.multiselects[o].some(r=>r===s.td[o]))return!1;for(const o in this.dates){const r=new Date(s.td[o]),h=new Date(this.dates[o].from),e=new Date(this.dates[o].to);if(r<h||r>e)return!1}return!0}),this.sortBody()},getAverage(s){return this.rows.map(o=>o[s]).map(o=>isNaN(Number(o))?0:o).reduce((o,r)=>o+r,0)/this.bodyCopy.length},getDatesRange(s){const o=this.dataset.body.map(F=>new Date(F.td[s])),r=new Date(Math.min(...o)),h=new Date(Math.max(...o)),e=r.getFullYear(),t=h.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),n=String(h.getMonth()+1).padStart(2,"0"),u=String(r.getDate()).padStart(2,"0"),g=String(h.getDate()).padStart(2,"0"),b=`${e}-${a}-${u}`,f=`${t}-${n}-${g}`;return{from:b,to:f}},getDonutLegendValue(s){return Number((s*(this.dataset.header[this.currentSelectionSpan.col].isPercentage?100:1)).toFixed(this.dataset.header[this.currentSelectionSpan.col].decimals)).toLocaleString()},getDropdownOptions(s){return[...new Set(this.dataset.body.map(o=>o.td[s]))]},getSum(s){return this.rows.map(o=>o[s]).map(o=>isNaN(Number(o))?0:o).reduce((o,r)=>o+r,0)},includesNaN(s){return s.includes(NaN)},isDropdownOptionSelected(s,o){return this.multiselects[o]?this.multiselects[o].includes(s):!0},isNumeric(s){return!isNaN(Number(String(s).replaceAll("%","")))},isResetDisabled(s,o){const r=o.isSort,h=o.isSearch,e=o.isMultiselect&&this.multiselects[s],t=o.rangeFilter,a=n=>{if(t&&this.rangeFilters[n])return Math.round(this.rangeFilters[n].min)===this.immutableRangeFilters[n].min&&Math.round(this.rangeFilters[n].max)===this.immutableRangeFilters[n].max};if(r&&h&&e&&t)return["",void 0].includes(this.searches[s])&&[void 0].includes(this.sorts[s])&&this.multiselects[s].length===this.getDropdownOptions(s).length&&a(s);if(r&&h&&e)return["",void 0].includes(this.searches[s])&&[void 0].includes(this.sorts[s])&&this.multiselects[s].length===this.getDropdownOptions(s).length;if(r&&h&&t)return["",void 0].includes(this.searches[s])&&[void 0].includes(this.sorts[s])&&a(s);if(r&&h)return["",void 0].includes(this.searches[s])&&[void 0].includes(this.sorts[s]);if(r&&e&&t)return[void 0].includes(this.sorts[s])&&this.multiselects[s].length===this.getDropdownOptions(s).length&&a(s);if(r&&e)return[void 0].includes(this.sorts[s])&&this.multiselects[s].length===this.getDropdownOptions(s).length;if(h&&e&&t)return["",void 0].includes(this.searches[s])&&this.multiselects[s].length===this.getDropdownOptions(s).length&&a(s);if(h&&e)return["",void 0].includes(this.searches[s])&&this.multiselects[s].length===this.getDropdownOptions(s).length;if(h&&t)return["",void 0].includes(this.searches[s])&&a(s);if(h)return["",void 0].includes(this.searches[s]);if(r&&t)return[void 0].includes(this.sorts[s])&&a(s);if(r)return[void 0].includes(this.sorts[s]);if(e&&t)return this.multiselects[s].length===this.getDropdownOptions(s).length&&a(s);if(e)return this.multiselects[s].length===this.getDropdownOptions(s).length},navigate(s){this.resetSelection(),s==="next"&&this.currentPage<this.pages.length?this.currentPage+=1:s==="previous"&&this.currentPage>=1?this.currentPage-=1:this.currentPage=s-1,this.$refs.tableWrapper.scrollTo({top:0,left:0,behavior:"smooth"})},navigateCell(s){s.preventDefault();const o=s.keyCode,r=38,h=40,e=37,t=39;if(![r,h,e,t].includes(o))return;const a=s.target.id,n=/cell_(\d+)_(\d+)_vue-ui-table-(\d+)/,u=a.match(n),g=parseInt(u[1]),b=parseInt(u[2]),f=document.getElementById(`cell_${g}_${b+1}_${this.uid}`),F=document.getElementById(`cell_${g}_${b-1}_${this.uid}`),x=document.getElementById(`cell_${g+1}_${b}_${this.uid}`),A=document.getElementById(`cell_${g-1}_${b}_${this.uid}`);let k;switch(!0){case o===t:k=f;break;case o===e:k=F;break;case o===r:k=A;break;case o===h:k=x;break;default:return}k&&(k.focus(),k.scrollIntoView({behavior:"smooth",block:"center"}))},openDonutOptions(){this.selectedDonutCategory=this.availableDonutCategories[0],this.showDonutOptions=!0},placeLabelOnTopOrBottom({previousPlot:s,currentPlot:o,nextPlot:r}){const h=o.y-38,e=o.y+16;return s&&r?s.value<o.value&&r.value<o.value?h:s.value>o.value&&r.value>o.value?e:(s.value>o.value&&r.value<o.value||s.value<o.value&&r.value>o.value,h):s&&!r?s.value>o.value?e:h:!s&&r&&r.value>o.value?e:h},async prepareBodyCopy(){return new Promise(s=>{const o=[];this.tableHead.forEach((r,h)=>{if(r.isSearch&&Object.assign(this.searches,{[h]:""}),r.isMultiselect&&Object.assign(this.multiselects,{[h]:this.getDropdownOptions(h)}),r.type===this.constants.DATE&&(Object.assign(this.dates,{[h]:this.getDatesRange(h)}),Object.assign(this.filteredDatesIndexes,{[h]:!1})),(r.isPercentage||r.percentageTo)&&Object.assign(this.percentages,{[h]:{reference:r.percentageTo,referenceIndex:this.dataset.header.map(e=>e.name).indexOf(r.percentageTo)}}),r.rangeFilter&&(Object.assign(this.rangeFilters,{[h]:{min:Math.round(Math.min(...this.dataset.body.map(e=>e.td).map(e=>e[h]))),max:Math.round(Math.max(...this.dataset.body.map(e=>e.td).map(e=>e[h])))}}),Object.assign(this.immutableRangeFilters,{[h]:{min:Math.round(Math.min(...this.dataset.body.map(e=>e.td).map(e=>e[h]))),max:Math.round(Math.max(...this.dataset.body.map(e=>e.td).map(e=>e[h])))}})),r.isPercentage){const e=this.dataset.header.map(a=>a.name).indexOf(r.percentageTo),t=this.dataset.body.map(a=>a.td[e]).reduce((a,n)=>a+n,0);o.push([h,e,t])}r.type===this.constants.NUMERIC&&!r.isPercentage&&Object.assign(this.hasNaN,{[h]:this.includesNaN(this.dataset.body.map(e=>Number(e.td[h])))})}),this.bodyCopy.forEach((r,h)=>{o.map(e=>{const[t,a,n]=e;r.td[t]=r.td[a]/n}),r.td.forEach((e,t)=>{this.dataset.header[t].type===this.constants.TEXT&&this.dataset.header[t].isSearch&&(r[t]=this.stringToNumber(e)),this.dataset.header[t].type===this.constants.DATE&&(r[t]=new Date(e).getTime()),this.dataset.header[t].type===this.constants.NUMERIC&&(r[t]=isNaN(Number(e))?t:e),this.tableBody[h][t]=r[t]})}),s(!0)})},promiseWithAsyncFunction(s,o){return new Promise((r,h)=>{s().then(e=>{try{const t=o(e);r(t)}catch(t){h(t)}}).catch(e=>{h(e)})})},resetDates(s){this.dates[s]={from:this.getDatesRange(s).from,to:this.getDatesRange(s).to},this.filteredDatesIndexes[s]=!1,this.$forceUpdate(),this.filterBody()},resetFilter(s,o,r){const h=r.currentTarget;clearTimeout(this.buttonTimeout),h.classList.add("clicked"),this.buttonTimeout=setTimeout(()=>{h.classList.remove("clicked")},200),this.currentFilter=void 0,o.rangeFilter&&(this.rangeFilters[s].min=this.immutableRangeFilters[s].min,this.rangeFilters[s].max=this.immutableRangeFilters[s].max),o.isMultiselect?(this.multiselects[s]=this.getDropdownOptions(s),o.type===this.constants.TEXT&&(this.sorts[s]=void 0),o.isSearch&&(this.searches[s]="")):o.type===this.constants.NUMERIC?this.sorts[s]=void 0:o.type===this.constants.TEXT?(this.sorts[s]=void 0,this.searches[s]=""):o.type===this.constants.DATE&&(this.sorts[s]=void 0),this.filterBody()},resetSelection(){const s=document.getElementsByClassName(`tr_${this.uid}`);Array.from(s).forEach(o=>{Array.from(o.getElementsByTagName("td")).forEach(r=>{r.dataset.row==="even"?(r.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,r.style.color=this.FINAL_CONFIG.style.rows.even.color):(r.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,r.style.color=this.FINAL_CONFIG.style.rows.odd.color)})}),Array.from(s).forEach(o=>o.dataset.selected="false"),this.currentPage>this.pages.length-1&&(this.currentPage=this.pages.length-1),this.showChart=!1,this.currentDonut=void 0,this.selectedColumn=void 0,this.chart.type=this.constants.BAR,this.currentSelectionSpan={col:void 0,rows:[]},this.clientX=100,this.clientY=100},selectColumn(s){this.currentSelectionSpan.col!==s?(this.visibleRows.forEach((o,r)=>{this.selectTd({td:o.td[s],rowIndex:r,colIndex:s,headerType:this.constants.NUMERIC,event:{currentTarget:document.getElementById(`cell_${r}_${s}_${this.uid}`)}})}),this.selectedColumn=s):(this.selectedColumn=void 0,this.resetSelection())},selectDropdownOption(s,o){this.multiselects[o].includes(s)?this.multiselects[o]=this.multiselects[o].filter(r=>r!==s):this.multiselects[o].push(s),this.$forceUpdate(),this.filterBody()},selectTd({td:s,rowIndex:o,colIndex:r,headerType:h,event:e}){if(h!==this.constants.NUMERIC||isNaN(Number(s))){this.resetSelection();return}this.currentSelectionSpan.col!==r&&this.resetSelection();const t=e.currentTarget.parentNode;this.currentSelectionSpan.col=r,this.currentSelectionSpan.rows.map(a=>a.index).includes(o)?(t.dataset.selected="false",this.currentSelectionSpan.rows=this.currentSelectionSpan.rows.filter(a=>a.index!==o),e.currentTarget.classList.remove(this.cssClass.CELL),Array.from(t.children).forEach((a,n)=>{a.dataset.row==="even"?(a.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,a.style.color=this.FINAL_CONFIG.style.rows.even.olor):(a.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,a.style.color=this.FINAL_CONFIG.style.rows.odd.color)}),e.currentTarget.dataset.row==="even"?(e.currentTarget.style.background=this.FINAL_CONFIG.style.rows.even.backgroundColor,e.currentTarget.style.color=this.FINAL_CONFIG.style.rows.even.color):(e.currentTarget.style.background=this.FINAL_CONFIG.style.rows.odd.backgroundColor,e.currentTarget.style.color=this.FINAL_CONFIG.style.rows.odd.color)):(t.dataset.selected="true",this.currentSelectionSpan.rows.push({index:o,value:s}),Array.from(t.children).forEach((a,n)=>{a.dataset.row==="even"?(a.style.background=this.FINAL_CONFIG.style.rows.even.selectedNeighbors.backgroundColor,a.style.color=this.FINAL_CONFIG.style.rows.even.selectedNeighbors.color):(a.style.background=this.FINAL_CONFIG.style.rows.odd.selectedNeighbors.backgroundColor,a.style.color=this.FINAL_CONFIG.style.rows.odd.selectedNeighbors.color)}),e.currentTarget.dataset.row==="odd"?(e.currentTarget.style.background=this.FINAL_CONFIG.style.rows.odd.selectedCell.backgroundColor,e.currentTarget.style.color=this.FINAL_CONFIG.style.rows.odd.selectedCell.color):(e.currentTarget.style.background=this.FINAL_CONFIG.style.rows.even.selectedCell.backgroundColor,e.currentTarget.style.color=this.FINAL_CONFIG.style.rows.even.selectedCell.color)),this.currentSelectionSpan.rows=this.currentSelectionSpan.rows.sort((a,n)=>a.index-n.index),this.chart.type===this.constants.DONUT&&this.currentSelectionSpan.rows.length>0&&this.applyDonutOption()},setFilterDatesIndexes(s){this.filteredDatesIndexes[s]=!(this.getDatesRange(s).from===this.dates[s].from&&this.getDatesRange(s).to===this.dates[s].to)},sortBody(){this.resetSelection(),Object.keys(this.rangeFilters).forEach(s=>{this.filterByRange(this.bodyCopy,s)}),Object.keys(this.sorts).forEach(s=>{this.sortByNumber(this.bodyCopy,s)}),this.currentFilter!==void 0&&this.sortByNumber(this.bodyCopy,this.currentFilter),this.dataset.header.forEach((s,o)=>{if(s.isPercentage){const r=this.percentages[o].referenceIndex,h=this.bodyCopy.map(e=>e.td[r]).reduce((e,t)=>e+t,0);this.bodyCopy.forEach(e=>{e.td[o]=e.td[r]/h})}}),this.currentPage>this.pages.length-1&&(this.currentPage=this.pages.length-1),[-1].includes(this.currentPage)&&(this.currentPage=0),this.$forceUpdate()},filterByRange(s,o){this.bodyCopy=s.filter(r=>r.td[o]>=this.rangeFilters[o].min&&r[o]<=this.rangeFilters[o].max)},sortByNumber(s,o){if(this.sorts[o]===this.constants.ASC&&(s=s.sort((r,h)=>r[o]-h[o])),this.sorts[o]===this.constants.DESC)s=s.sort((r,h)=>h[o]-r[o]);else return 0},sortTh(s,o){this.currentFilter=s;const r=o.currentTarget;clearTimeout(this.buttonTimeout),r.classList.add("clicked"),this.buttonTimeout=setTimeout(()=>{r.classList.remove("clicked")},200),this.sorts[s]===1?this.sorts[s]=this.constants.DESC:this.sorts[s]=this.constants.ASC,this.sortBody()},stringToNumber(s){let o=0;for(let r=0;r<s.length;r+=1)o+=s.charCodeAt(r);return o},toggleMultiselect(s,o,r){const h=r.currentTarget;clearTimeout(this.buttonTimeout),h.classList.add("clicked"),this.buttonTimeout=setTimeout(()=>{h.classList.remove("clicked")},200);const e=document.getElementById(`th_dropdown_${s}`);e.dataset.isOpen==="false"?e.dataset.isOpen="true":e.dataset.isOpen="false"},updateCurrentPage(s){this.resetSelection(),this.currentPage=Number(s.target.value)},calcDonutMarkerConnectorColor(s){return s.proportion*100>3?s.color:"transparent"},calcDonutMarkerLabelPositionX(s){return s.center.endX+this.calcMarkerOffset(s,50)},calcMarkerOffset(s,o){return s.center.endX-o>=0?3:-2},displayArcPercentage(s,o){return isNaN(s.value/this.sumValues(o))?0:(s.value/this.sumValues(o)*100).toFixed(0)+"%"},isArcBigEnough(s){return s.proportion*100>3},sumValues(s){return[...s].map(o=>o.value).reduce((o,r)=>o+r,0)},closeDragElement(){document.onmouseup=null,document.onmousemove=null},dragMouseDown(s){s=s||window.event,s.preventDefault(),document.onmouseup=this.closeDragElement,document.onmousemove=this.elementDrag},elementDrag(s){this.rafId||(this.rafId=window.requestAnimationFrame(()=>this.onElementDrag(s)))},onElementDrag(s){s=s||window.event,s.preventDefault();const o=this.$refs.chartModal.getBoundingClientRect();this.clientX=s.clientX-o.width/2,this.clientY=s.clientY-o.height/2,this.rafId=null}}},v=s=>(_("data-v-5a108fbd"),s=s(),$(),s),X={class:"vue-ui-table-export-hub"},W=["innerHTML"],Y=["data-is-open"],K=v(()=>l("b",{class:"vue-ui-table-export-hub-title"}," Export ",-1)),J={class:"vue-ui-table-export-hub-options"},Z={class:"vue-ui-table-export-hub-option-wrapper"},q={class:"label"},Q=["innerHTML"],tt={class:"vue-ui-table-export-hub-option-wrapper"},et={class:"label"},st=["innerHTML"],ot={class:"vue-ui-table"},at={id:"tableHead"},nt=v(()=>l("th",{class:"invisible-cell"},null,-1)),rt={key:0},lt={key:0},it={key:1},ct=v(()=>l("th",{class:"invisible-cell"},null,-1)),dt={key:0,style:{display:"flex","align-items":"center","justify-content":"flex-end"}},ht=["innerHTML"],ut={key:0,style:{"margin-left":"3px"}},pt=v(()=>l("th",{class:"invisible-cell"},null,-1)),gt={key:0},yt=v(()=>l("th",{class:"invisible-cell"},null,-1)),Nt={class:"th-filter"},bt={key:0,class:"th-date"},mt={class:"date-wrapper--inputs"},It={class:"date-fieldset"},Ft=["for"],Ct=["id","onUpdate:modelValue","onInput"],vt={class:"date-fieldset"},kt=["for"],wt=["id","onUpdate:modelValue","onInput"],ft={class:"date-wrapper--button"},St=["onClick"],Ot=["innerHTML"],Lt=["innerHTML"],xt=["innerHTML"],At=["onClick","disabled"],_t=["placeholder","onUpdate:modelValue","name"],$t=["onClick"],Dt=["innerHTML"],Gt=["innerHTML"],Mt=["innerHTML"],Tt=["onClick","innerHTML"],Pt=["innerHTML"],Et={key:5,class:"th-range-filter"},zt=["for"],Bt=v(()=>l("span",{style:{color:"grey"}},"ᒥ",-1)),Ht=v(()=>l("span",{style:{color:"grey"}},"ᒣ",-1)),Rt=["id","max","min","onUpdate:modelValue"],jt=["id","max","min","onUpdate:modelValue"],Ut=["for"],Vt=v(()=>l("span",{style:{color:"grey"}},"ᒪ",-1)),Xt=v(()=>l("span",{style:{color:"grey"}},"ᒧ",-1)),Wt=["onClick","disabled"],Yt=["id"],Kt=["onClick"],Jt=["onClick","onKeyup"],Zt=v(()=>l("th",{class:"invisible-cell"},null,-1)),qt=["innerHTML","onClick","onKeyup"],Qt=["data-row"],te=["data-row"],ee=["data-row","onClick","onKeyup","id"],se=["innerHTML"],oe={key:1},ae={key:2},ne={key:5},re=["innerHTML"],le={key:0},ie={style:{"margin-left":"12px"}},ce={class:"format-num"},de={style:{"margin-left":"12px"}},he={key:0,class:"format-num"},ue={key:1,class:"format-num"},pe={key:2},ge={style:{"margin-left":"12px"}},ye={key:0,class:"format-num"},Ne={key:1,class:"format-num"},be={key:2},me={key:0,class:"vue-ui-table-paginator format-num"},Ie={key:1,class:"vue-ui-table-size-warning"},Fe=["innerHTML"],Ce={key:3,class:"vue-ui-table-pagination format-num"},ve=["innerHTML","disabled"],ke=["disabled"],we={key:0,class:"vue-ui-table-page-scroller-wrapper"},fe={for:"pageScroller",style:{"font-size":"14px"}},Se=["max","value"],Oe={key:1},Le=["disabled"],xe=["innerHTML","disabled"],Ae={class:"chart-modal-options"},_e=["innerHTML"],$e=["innerHTML"],De=["innerHTML"],Ge={style:{"margin-bottom":"12px"}},Me={key:0},Te={key:1},Pe={style:{width:"100%",height:"fit-content",cursor:"move"},ref:"chartModal"},Ee={class:"vue-ui-table-fieldset"},ze={class:"vue-ui-table-fieldset-wrapper"},Be=["name","id","checked","onInput"],He=["for"],Re=["disabled"],je=["innerHTML"],Ue=["viewBox"],Ve=["markerWidth","markerHeight","refY"],Xe=["points","fill"],We=["x2","y1","y2","stroke","stroke-width"],Ye=["y2","stroke","stroke-width"],Ke=["x","width","height","fill"],Je=G('<linearGradient id="barGradientSelected" x2="0%" y2="100%" data-v-5a108fbd><stop offset="0.2" stop-color="#6376DD" data-v-5a108fbd></stop><stop offset="1" stop-color="#6376DD80" data-v-5a108fbd></stop></linearGradient><linearGradient id="barGradientSelectedNeg" x2="0%" y2="100%" data-v-5a108fbd><stop offset="0.2" stop-color="#6376DD80" data-v-5a108fbd></stop><stop offset="1" stop-color="#6376DD" data-v-5a108fbd></stop></linearGradient><linearGradient id="barGradient" x2="0%" y2="100%" data-v-5a108fbd><stop offset="0.2" stop-color="#6376DDB3" data-v-5a108fbd></stop><stop offset="1" stop-color="#6376DD66" data-v-5a108fbd></stop></linearGradient><linearGradient id="barGradientNeg" x2="0%" y2="100%" data-v-5a108fbd><stop offset="0.2" stop-color="#6376DD66" data-v-5a108fbd></stop><stop offset="1" stop-color="#6376DDB3" data-v-5a108fbd></stop></linearGradient>',4),Ze=["x","y","height","width","fill","stroke"],qe=["x","y","width"],Qe=["x1","y1","x2","y2","stroke-width","stroke"],ts=["x1","y1","x2","y2","stroke","stroke-width","stroke-dasharray"],es=["cx","cy","r","fill","stroke","stroke-width"],ss=["x","y","width"],os=["x","width","height","onMouseenter"],as=["x1","y1","x2","y2","stroke","stroke-width","stroke-dasharray"],ns=v(()=>l("span",null,"---",-1)),rs=["d","stroke"],ls=["x","y"],is={class:"vue-ui-table-donut-label-name"},cs=["fill"],ds=["fill"],hs=["fill"],us=["fill"],ps={class:"vue-ui-table-donut-legend"};function gs(s,o,r,h,e,t){return i(),c("div",{class:"vue-ui-table-main",style:p(`font-family: ${t.FINAL_CONFIG.fontFamily}`)},[l("div",X,[l("button",{onClick:o[0]||(o[0]=a=>e.isExportRequest=!e.isExportRequest),innerHTML:t.icons.export,style:p(`background:${t.FINAL_CONFIG.style.exportMenu.backgroundColor};color:${t.FINAL_CONFIG.style.exportMenu.color}`)},null,12,W),l("div",{class:"vue-ui-table-export-hub-dropdown","data-is-open":e.isExportRequest||"false",style:p(`background:${t.FINAL_CONFIG.style.exportMenu.backgroundColor};color:${t.FINAL_CONFIG.style.exportMenu.color}`)},[K,l("button",{class:"close-dropdown",onClick:o[1]||(o[1]=a=>e.isExportRequest=!1),style:p(`background:${t.FINAL_CONFIG.style.closeButtons.backgroundColor};color:${t.FINAL_CONFIG.style.closeButtons.color};border-radius:${t.FINAL_CONFIG.style.closeButtons.borderRadius}`)}," ✖ ",4),l("div",J,[l("div",Z,[l("div",q,d(t.FINAL_CONFIG.translations.exportAllLabel)+" ("+d(e.bodyCopy.length)+") ",1),l("button",{id:"exportAll",onClick:o[2]||(o[2]=a=>t.createXls("all")),style:p(`background:${t.FINAL_CONFIG.style.exportMenu.buttons.backgroundColor};color:${t.FINAL_CONFIG.style.exportMenu.buttons.color}`)},[l("div",{innerHTML:t.icons.fileDownload},null,8,Q),l("span",null,d(t.FINAL_CONFIG.translations.exportAllButton),1)],4)]),l("div",tt,[l("div",et,d(t.FINAL_CONFIG.translations.exportPageLabel),1),l("button",{id:"exportPage",onClick:o[3]||(o[3]=a=>t.createXls("page")),style:p(`background:${t.FINAL_CONFIG.style.exportMenu.buttons.backgroundColor};color:${t.FINAL_CONFIG.style.exportMenu.buttons.color}`)},[l("div",{innerHTML:t.icons.fileDownload},null,8,st),l("span",null,d(t.FINAL_CONFIG.translations.exportPageButton),1)],4)])])],12,Y)]),l("div",{class:"vue-ui-table__wrapper",style:p(`max-height:${t.FINAL_CONFIG.maxHeight}px`),ref:"tableWrapper"},[l("table",ot,[l("thead",at,[l("tr",null,[nt,(i(!0),c(N,null,I(e.tableHead,(a,n)=>(i(),c("th",{key:`thead_${n}`,style:p(`overflow: visible;background:${t.FINAL_CONFIG.style.th.backgroundColor};color:${t.FINAL_CONFIG.style.th.color};outline:${t.FINAL_CONFIG.style.th.outline}`),class:m({"th-has-nan":e.hasNaN[n]})},[t.hasNumericTypes&&([e.constants.TEXT,e.constants.DATE].includes(a.type)||a.isPercentage)?(i(),c("span",rt,[C(d(a.name)+" ",1),a.isPercentage?(i(),c("span",lt," / "+d(a.percentageTo),1)):y("",!0)])):(i(),c("span",it,d(a.name),1))],6))),128))]),t.hasNumericTypes?(i(),c(N,{key:0},[l("tr",null,[ct,(i(!0),c(N,null,I(e.tableHead,(a,n)=>(i(),c("th",{key:`thead_${n}`,class:m({"th-numeric":!0,"th-has-nan":e.hasNaN[n]}),style:p(`background:${t.FINAL_CONFIG.style.th.backgroundColor};color:${t.FINAL_CONFIG.style.th.color};outline:${t.FINAL_CONFIG.style.th.outline}`)},[a.sum&&!e.hasNaN[n]?(i(),c("span",dt,[l("span",{innerHTML:t.icons.sum,style:{"margin-bottom":"-4px","margin-right":"3px"}},null,8,ht),C(" "+d(a.prefix)+" "+d(Number(t.getSum(n).toFixed(a.decimals)).toLocaleString())+" "+d(a.suffix)+" ",1),e.percentages[n]&&a.percentageTo&&!a.isPercentage?(i(),c("span",ut," ("+d(isNaN(t.getSum(n)/t.getSum(e.percentages[n].referenceIndex))?"-":(t.getSum(n)/t.getSum(e.percentages[n].referenceIndex)*100).toFixed(a.decimals))+"%) ",1)):y("",!0)])):y("",!0)],6))),128))]),l("tr",null,[pt,(i(!0),c(N,null,I(e.tableHead,(a,n)=>(i(),c("th",{key:`thead_${n}`,class:m({"th-numeric":!0,"th-has-nan":e.hasNaN[n]}),style:p(`background:${t.FINAL_CONFIG.style.th.backgroundColor};color:${t.FINAL_CONFIG.style.th.color};outline:${t.FINAL_CONFIG.style.th.outline}`)},[a.average&&!e.hasNaN[n]?(i(),c("span",gt," ~ "+d(a.prefix)+" "+d(isNaN(t.getAverage(n))?"":Number(t.getAverage(n).toFixed(a.decimals)).toLocaleString())+" "+d(a.suffix),1)):y("",!0)],6))),128))]),l("tr",null,[yt,(i(!0),c(N,null,I(e.tableHead,(a,n)=>(i(),c("th",{key:`thead_${n}`,class:m({"th-has-nan":e.hasNaN[n]}),style:p(`background:${t.FINAL_CONFIG.style.th.backgroundColor};color:${t.FINAL_CONFIG.style.th.color};outline:${t.FINAL_CONFIG.style.th.outline}`)},[l("div",Nt,[a.type===e.constants.DATE&&e.dates[n]?(i(),c("div",bt,[l("div",mt,[l("div",It,[l("label",{for:`from_${n}`},d(t.FINAL_CONFIG.translations.from),9,Ft),w(l("input",{id:`from_${n}`,type:"date","onUpdate:modelValue":u=>e.dates[n].from=u,onInput:u=>{t.filterBody(),t.setFilterDatesIndexes(n)},style:p(`background:${t.FINAL_CONFIG.style.inputs.backgroundColor};color:${t.FINAL_CONFIG.style.inputs.color};border:${t.FINAL_CONFIG.style.inputs.border}`)},null,44,Ct),[[S,e.dates[n].from]])]),l("div",vt,[l("label",{for:`to_${n}`},d(t.FINAL_CONFIG.translations.to),9,kt),w(l("input",{id:`to_${n}`,type:"date","onUpdate:modelValue":u=>e.dates[n].to=u,onInput:u=>{t.filterBody(),t.setFilterDatesIndexes(n)},style:p(`background:${t.FINAL_CONFIG.style.inputs.backgroundColor};color:${t.FINAL_CONFIG.style.inputs.color};border:${t.FINAL_CONFIG.style.inputs.border}`)},null,44,wt),[[S,e.dates[n].to]])])]),l("div",ft,[a.isSort?(i(),c("button",{key:0,onClick:u=>t.sortTh(n,u),class:m({"th-button-active":[e.constants.DESC,e.constants.ASC].includes(e.sorts[n])}),style:p(`background:${[e.constants.DESC,e.constants.ASC].includes(e.sorts[n])?"":t.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${[e.constants.DESC,e.constants.ASC].includes(e.sorts[n])?"":t.FINAL_CONFIG.style.pagination.buttons.color}`)},[e.sorts[n]===e.constants.ASC?(i(),c("span",{key:0,innerHTML:[e.constants.DATE].includes(a.type)?t.icons.sort09:t.icons.sortAZ},null,8,Ot)):e.sorts[n]===e.constants.DESC?(i(),c("span",{key:1,innerHTML:[e.constants.DATE].includes(a.type)?t.icons.sort90:t.icons.sortZA},null,8,Lt)):(i(),c("span",{key:2,innerHTML:t.icons.arrowSort},null,8,xt))],14,St)):y("",!0),l("button",{onClick:u=>{t.resetDates(n),t.resetFilter(n,a,u)},disabled:!e.filteredDatesIndexes[n]&&t.isResetDisabled(n,a),class:"th-reset"}," ✖ ",8,At)])])):y("",!0),a.isSearch?w((i(),c("input",{key:1,placeholder:t.FINAL_CONFIG.translations.inputPlaceholder,"onUpdate:modelValue":u=>e.searches[n]=u,onInput:o[4]||(o[4]=u=>t.debounce(t.filterBody,400)),name:`search_${n}`,style:p(`background:${t.FINAL_CONFIG.style.inputs.backgroundColor};color:${t.FINAL_CONFIG.style.inputs.color};border:${t.FINAL_CONFIG.style.inputs.border}`)},null,44,_t)),[[S,e.searches[n]]]):y("",!0),!e.hasNaN[n]&&a.isSort&&a.type!==e.constants.DATE?(i(),c("button",{key:2,onClick:u=>t.sortTh(n,u),class:m({"th-button-active":[e.constants.DESC,e.constants.ASC].includes(e.sorts[n])}),style:p(`background:${[e.constants.DESC,e.constants.ASC].includes(e.sorts[n])?"":t.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${[e.constants.DESC,e.constants.ASC].includes(e.sorts[n])?"":t.FINAL_CONFIG.style.pagination.buttons.color}`)},[e.sorts[n]===e.constants.ASC?(i(),c("span",{key:0,innerHTML:[e.constants.NUMERIC].includes(a.type)?t.icons.sort09:t.icons.sortZA},null,8,Dt)):e.sorts[n]===e.constants.DESC?(i(),c("span",{key:1,innerHTML:[e.constants.NUMERIC].includes(a.type)?t.icons.sort90:t.icons.sortAZ},null,8,Gt)):(i(),c("span",{key:2,innerHTML:t.icons.arrowSort},null,8,Mt))],14,$t)):y("",!0),a.isMultiselect?(i(),c("button",{key:3,onClick:u=>t.toggleMultiselect(n,a,u),innerHTML:t.icons.filter,class:m({"th-button-active":e.multiselects[n]&&e.multiselects[n].length!==t.getDropdownOptions(n).length}),style:p(`background:${e.multiselects[n]&&e.multiselects[n].length!==t.getDropdownOptions(n).length?"":t.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${e.multiselects[n]&&e.multiselects[n].length!==t.getDropdownOptions(n).length?"":t.FINAL_CONFIG.style.pagination.buttons.color}`)},null,14,Tt)):y("",!0),e.currentSelectionSpan.col===n&&t.canChart?(i(),c("button",{key:4,onClick:o[5]||(o[5]=u=>e.showChart=!e.showChart),innerHTML:t.icons.chart,class:m({"th-button-active":e.showChart}),style:p(`background:${e.showChart?"":t.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${e.showChart?"":t.FINAL_CONFIG.style.pagination.buttons.color}`)},null,14,Pt)):y("",!0),a.rangeFilter&&e.rangeFilters[n]&&!e.hasNaN[n]?(i(),c("div",Et,[l("label",{for:`rangeMin${n}`},[Bt,C(" min "),Ht],8,zt),w(l("input",{type:"number",id:`rangeMin${n}`,max:e.immutableRangeFilters[n].max,min:e.immutableRangeFilters[n].min,"onUpdate:modelValue":u=>e.rangeFilters[n].min=u,onInput:o[6]||(o[6]=u=>t.debounce(t.filterBody,400)),style:p(`background:${t.FINAL_CONFIG.style.inputs.backgroundColor};color:${t.FINAL_CONFIG.style.inputs.color};border:${t.FINAL_CONFIG.style.inputs.border}`)},null,44,Rt),[[S,e.rangeFilters[n].min,void 0,{number:!0}]]),w(l("input",{type:"number",id:`rangeMax${n}`,max:e.immutableRangeFilters[n].max,min:e.immutableRangeFilters[n].min,"onUpdate:modelValue":u=>e.rangeFilters[n].max=u,onInput:o[7]||(o[7]=u=>t.debounce(t.filterBody,400)),style:p(`background:${t.FINAL_CONFIG.style.inputs.backgroundColor};color:${t.FINAL_CONFIG.style.inputs.color};border:${t.FINAL_CONFIG.style.inputs.border}`)},null,44,jt),[[S,e.rangeFilters[n].max,void 0,{number:!0}]]),l("label",{for:`rangeMax${n}`},[Vt,C(" max "),Xt],8,Ut)])):y("",!0),t.canResetColumn(n,a)?(i(),c("button",{key:6,onClick:u=>t.resetFilter(n,a,u),disabled:t.isResetDisabled(n,a),class:"th-reset"}," ✖ ",8,Wt)):y("",!0),a.isMultiselect?(i(),c("div",{key:7,class:"th-dropdown","data-is-open":"false",id:`th_dropdown_${n}`,style:p(`background:${t.FINAL_CONFIG.style.dropdowns.backgroundColor};color:${t.FINAL_CONFIG.style.dropdowns.color}`)},[l("button",{class:"close-dropdown",onClick:u=>t.toggleMultiselect(n,a,u),style:p(`background:${t.FINAL_CONFIG.style.closeButtons.backgroundColor};color:${t.FINAL_CONFIG.style.closeButtons.color}`)}," ✖ ",12,Kt),(i(!0),c(N,null,I(t.getDropdownOptions(n),(u,g)=>(i(),c("span",{class:"th-option",key:`th_option_${n}_${g}`,onClick:b=>t.selectDropdownOption(u,n),onKeyup:[O(b=>t.selectDropdownOption(u,n),["enter"]),O(b=>t.selectDropdownOption(u,n),["space"])],style:p(`opacity:${t.isDropdownOptionSelected(u,n)?1:.5}`),tabindex:"0"},[t.isDropdownOptionSelected(u,n)?(i(),c("span",{key:0,style:p(`color:${t.FINAL_CONFIG.style.dropdowns.icons.selected.color};margin-right:5px`),class:"th-icon-green"},d(t.FINAL_CONFIG.style.dropdowns.icons.selected.unicode),5)):(i(),c("span",{key:1,style:p(`color:${t.FINAL_CONFIG.style.dropdowns.icons.unselected.color};margin-right:5px`),class:"th-icon-red"},d(t.FINAL_CONFIG.style.dropdowns.icons.unselected.unicode),5)),l("span",null,d(u),1)],44,Jt))),128))],12,Yt)):y("",!0)])],6))),128))])],64)):y("",!0),l("tr",null,[Zt,(i(!0),c(N,null,I(e.tableHead,(a,n)=>(i(),c("th",{key:`col_selector_${n}`,class:m({"vue-ui-table-col-selector":!e.hasNaN[n],"th-has-nan":e.hasNaN[n]}),style:p(`background:${n===e.selectedColumn&&!e.hasNaN[n]?t.FINAL_CONFIG.style.th.selected.backgroundColor:t.FINAL_CONFIG.style.th.backgroundColor};color:${n===e.selectedColumn&&!e.hasNaN[n]?t.FINAL_CONFIG.style.th.selected.color:t.FINAL_CONFIG.style.th.color};outline:${t.FINAL_CONFIG.style.th.outline}`)},[e.hasNaN[n]?y("",!0):(i(),c("div",{key:0,innerHTML:e.tableHead[n].type===e.constants.NUMERIC?t.icons.chevronDown:"",class:m({"col-selector":e.tableHead[n].type===e.constants.NUMERIC}),tabindex:"0",onClick:L(u=>t.selectColumn(n),["stop"]),onKeyup:O(u=>t.selectColumn(n),["enter"])},null,42,qt))],6))),128))])]),l("tbody",{onClick:o[8]||(o[8]=(...a)=>t.closeAllDropdowns&&t.closeAllDropdowns(...a)),onKeydown:o[9]||(o[9]=a=>t.navigateCell(a))},[(i(!0),c(N,null,I(t.visibleRows,(a,n)=>(i(),c("tr",{key:`tbody_${n}`,"data-row":n%2===0?"odd":"even",class:m(`tr_${e.uid}`),style:p(`${n%2===0?`background:${t.FINAL_CONFIG.style.rows.odd.backgroundColor};color:${t.FINAL_CONFIG.style.rows.odd.color}`:`background:${t.FINAL_CONFIG.style.rows.even.backgroundColor};color:${t.FINAL_CONFIG.style.rows.even.color}`}`)},[l("td",{class:"vue-ui-table-td-iteration","data-row":n%2===0?"odd":"even"},d(a.absoluteIndex+1),9,te),(i(!0),c(N,null,I(a.td,(u,g)=>(i(),c("td",{"data-row":n%2===0?"odd":"even",key:`td_${n}_${g}`,style:p(t.isNumeric(u)||r.dataset.header[g].type===e.constants.DATE?"text-align:right;font-variant-numeric: tabular-nums;":""),onClick:b=>t.selectTd({td:u,rowIndex:n,colIndex:g,headerType:r.dataset.header[g].type,event:b}),onKeyup:[O(b=>t.selectTd({td:u,rowIndex:n,colIndex:g,headerType:r.dataset.header[g].type,event:b}),["enter"]),O(b=>t.selectTd({td:u,rowIndex:n,colIndex:g,headerType:r.dataset.header[g].type,event:b}),["space"])],class:m({"td-numeric":r.dataset.header[g].type===e.constants.NUMERIC,"td-focusable":!0,"td-has-nan":e.hasNaN[g]}),id:`cell_${n}_${g}_${e.uid}`,tabindex:"0"},[a.meta&&a.meta.markerIndices.includes(g)&&a.meta.unicodeIcon?(i(),c("span",{key:0,style:p(`color:${a.meta.color};margin-right:3px`),innerHTML:a.meta.unicodeIcon},null,12,se)):y("",!0),r.dataset.header[g].type===e.constants.DATE?(i(),c("span",oe,d(r.dataset.header[g].prefix)+" "+d(new Date(u).toLocaleString().slice(0,10))+" "+d(r.dataset.header[g].suffix),1)):r.dataset.header[g].isPercentage?(i(),c("span",ae,d(Number((u*100).toFixed(r.dataset.header[g].decimals)).toLocaleString())+"% ",1)):e.percentages[g]&&r.dataset.header[g].percentageTo&&!r.dataset.header[g].isPercentage?(i(),c("span",{key:3,class:m({"td-nan":isNaN(Number(u))})},d(r.dataset.header[g].prefix)+" "+d(isNaN(Number(u))?`${u} is not ${e.constants.NUMERIC}`:Number(u.toFixed(r.dataset.header[g].decimals)).toLocaleString())+" "+d(r.dataset.header[g].suffix)+" ("+d(isNaN(Number(u))?"":Number((u/t.getSum(e.percentages[g].referenceIndex)*100).toFixed(r.dataset.header[g].decimals)).toLocaleString())+"%) ",3)):r.dataset.header[g].type===e.constants.NUMERIC?(i(),c("span",{key:4,class:m({"td-nan":isNaN(Number(u))})},d(r.dataset.header[g].prefix)+" "+d(isNaN(Number(u))?`${u} is not ${e.constants.NUMERIC}`:Number(u.toFixed(r.dataset.header[g].decimals)).toLocaleString())+" "+d(r.dataset.header[g].suffix),3)):(i(),c("span",ne,d(r.dataset.header[g].prefix)+" "+d(u)+" "+d(r.dataset.header[g].suffix),1))],46,ee))),128))],14,Qt))),128))],32)])],4),l("div",{class:m({"td-selector-info":!0,"td-selector-info--active":e.currentSelectionSpan.col!==void 0&&e.currentSelectionSpan.rows.length}),style:p(`background:${t.FINAL_CONFIG.style.infoBar.backgroundColor};color:${t.FINAL_CONFIG.style.infoBar.color}`)},[e.currentSelectionSpan.col!==void 0&&e.currentSelectionSpan.rows.length?(i(),c(N,{key:0},[l("div",{innerHTML:t.icons.table,class:"td-selector-icon"},null,8,re),l("span",null,[l("b",null,[C(d(r.dataset.header[e.currentSelectionSpan.col].name)+" ",1),r.dataset.header[e.currentSelectionSpan.col].isPercentage?(i(),c("span",le," / "+d(r.dataset.header[e.percentages[e.currentSelectionSpan.col].referenceIndex].name),1)):y("",!0)]),l("span",ie,[C(d(t.FINAL_CONFIG.translations.nb)+" : ",1),l("b",ce,d(e.currentSelectionSpan.rows.length),1)]),l("span",de,[C(d(t.FINAL_CONFIG.translations.sum)+" : ",1),r.dataset.header[e.currentSelectionSpan.col].isPercentage?(i(),c("b",he,d(t.selectedCellsCalculations.sumPercentage),1)):(i(),c("b",ue,d(r.dataset.header[e.currentSelectionSpan.col].prefix)+" "+d(t.selectedCellsCalculations.sumRegular)+" "+d(r.dataset.header[e.currentSelectionSpan.col].suffix),1)),r.dataset.header[e.currentSelectionSpan.col].isPercentage?(i(),c("b",pe,"%")):y("",!0)]),l("span",ge,[C(d(t.FINAL_CONFIG.translations.average)+" : ",1),r.dataset.header[e.currentSelectionSpan.col].isPercentage?(i(),c("b",ye,d(t.selectedCellsCalculations.averagePercentage),1)):(i(),c("b",Ne,d(r.dataset.header[e.currentSelectionSpan.col].prefix)+" "+d(t.selectedCellsCalculations.averageRegular)+" "+d(r.dataset.header[e.currentSelectionSpan.col].suffix),1)),r.dataset.header[e.currentSelectionSpan.col].isPercentage?(i(),c("b",be,"%")):y("",!0)])]),l("button",{onClick:o[10]||(o[10]=(...a)=>t.resetSelection&&t.resetSelection(...a)),class:"td-selector-info-reset",style:p(`background:${t.FINAL_CONFIG.style.closeButtons.backgroundColor};color:${t.FINAL_CONFIG.style.closeButtons.color};border-radius:${t.FINAL_CONFIG.style.closeButtons.borderRadius}`)}," ✖ ",4)],64)):y("",!0)],6),e.bodyCopy.length>10?(i(),c("div",me,[C(d(t.FINAL_CONFIG.translations.totalRows)+" : "+d(r.dataset.body.length)+" | "+d(t.FINAL_CONFIG.translations.paginatorLabel)+" : ",1),e.bodyCopy.length>10?w((i(),c("select",{key:0,id:"paginatorSelector","onUpdate:modelValue":o[11]||(o[11]=a=>e.itemsPerPage=a),onChange:o[12]||(o[12]=(...a)=>t.resetSelection&&t.resetSelection(...a)),style:p(`background:${t.FINAL_CONFIG.style.inputs.backgroundColor};color:${t.FINAL_CONFIG.style.inputs.color};border:${t.FINAL_CONFIG.style.inputs.border}`)},[(i(!0),c(N,null,I(e.paginatorOptions,(a,n)=>(i(),c(N,null,[e.bodyCopy.length>a||r.dataset.body.length===a?(i(),c("option",{key:`paginator_option_${n}`},d(a),1)):y("",!0)],64))),256))],36)),[[D,e.itemsPerPage,void 0,{number:!0}]]):y("",!0)])):y("",!0),e.itemsPerPage>=250?(i(),c("div",Ie,[l("span",{innerHTML:t.icons.warning},null,8,Fe),C(d(t.FINAL_CONFIG.translations.sizeWarning),1)])):y("",!0),t.pages.length>1&&t.pages.length<=10?(i(),c("div",{key:2,class:"vue-ui-table-navigation-indicator",style:p(`background:${t.FINAL_CONFIG.style.pagination.navigationIndicator.backgroundColor};width:calc(${e.currentPage/(t.pages.length-1)*100}%)`)},null,4)):y("",!0),t.pages.length>1?(i(),c("div",Ce,[l("button",{class:"vue-ui-table-navigation",onClick:o[13]||(o[13]=L(a=>t.navigate("previous"),["stop"])),innerHTML:t.icons.chevronLeft,disabled:e.currentPage===0,style:p(`background:${t.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${t.FINAL_CONFIG.style.pagination.buttons.color};opacity:${e.currentPage===0?t.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1}`)},null,12,ve),t.pages.length>3?(i(),c(N,{key:0},[l("button",{class:"vue-ui-table-navigation",onClick:o[14]||(o[14]=L(a=>t.navigate(1),["stop"])),disabled:e.currentPage===0,style:p(`background:${t.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${t.FINAL_CONFIG.style.pagination.buttons.color};opacity:${e.currentPage===0?t.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1}`)}," 1 ",12,ke),t.pages.length>10?(i(),c("div",we,[l("label",fe,d(t.FINAL_CONFIG.translations.page)+" "+d(e.currentPage+1)+" / "+d(t.pages.length),1),l("input",{class:"vue-ui-table-page-scroller",id:"pageScroller",type:"range",step:"1",min:0,max:t.pages.length-1,onInput:o[15]||(o[15]=a=>t.updateCurrentPage(a)),value:e.currentPage,style:p(`background:${t.FINAL_CONFIG.style.inputs.backgroundColor};color:${t.FINAL_CONFIG.style.inputs.color};border:${t.FINAL_CONFIG.style.inputs.border};accent-color:${t.FINAL_CONFIG.style.inputs.accentColor}`)},null,44,Se)])):(i(),c("span",Oe,d(t.FINAL_CONFIG.translations.page)+" "+d(e.currentPage+1)+" / "+d(t.pages.length),1)),l("button",{class:"vue-ui-table-navigation",onClick:o[16]||(o[16]=L(a=>t.navigate(t.pages.length),["stop"])),disabled:e.currentPage===t.pages.length-1,style:p(`background:${t.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${t.FINAL_CONFIG.style.pagination.buttons.color};opacity:${e.currentPage===t.pages.length-1?t.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1}`)},d(t.pages.length),13,Le)],64)):(i(),c(N,{key:1},[C(d(t.FINAL_CONFIG.translations.page)+" "+d(e.currentPage+1)+" / "+d(t.pages.length),1)],64)),l("button",{class:"vue-ui-table-navigation",onClick:o[17]||(o[17]=L(a=>t.navigate("next"),["stop"])),innerHTML:t.icons.chevronRight,disabled:e.currentPage===t.pages.length-1,style:p(`background:${t.FINAL_CONFIG.style.pagination.buttons.backgroundColor};color:${t.FINAL_CONFIG.style.pagination.buttons.color};opacity:${e.currentPage===t.pages.length-1?t.FINAL_CONFIG.style.pagination.buttons.opacityDisabled:1}`)},null,12,xe)])):y("",!0),e.showChart&&t.canChart?(i(),c("div",{key:4,class:"vue-ui-table-chart-modal",style:p(`top:${e.clientY}px; left:${e.clientX}px;background:${t.FINAL_CONFIG.style.chart.modal.backgroundColor};color:${t.FINAL_CONFIG.style.chart.modal.color}`)},[l("button",{class:"close-chart-modal",onClick:o[18]||(o[18]=a=>e.showChart=!1),style:p(`background:${t.FINAL_CONFIG.style.closeButtons.backgroundColor};color:${t.FINAL_CONFIG.style.closeButtons.color};border-radius:${t.FINAL_CONFIG.style.closeButtons.borderRadius}`)}," ✖ ",4),l("div",Ae,[t.availableDonutCategories.length?(i(),c("button",{key:0,onClick:o[19]||(o[19]=a=>e.showDonutOptions=!0),innerHTML:t.icons.donut,class:m({"is-active-chart":e.chart.type===e.constants.DONUT||e.showDonutOptions}),style:p(`background:${e.chart.type===e.constants.DONUT||e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor};color:${e.chart.type===e.constants.DONUT||e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.color:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.color}`)},null,14,_e)):y("",!0),l("button",{onClick:o[20]||(o[20]=a=>{e.chart.type=e.constants.LINE,e.showDonutOptions=!1}),innerHTML:t.icons.chart,class:m({"is-active-chart":e.chart.type===e.constants.LINE&&!e.showDonutOptions}),style:p(`background:${e.chart.type===e.constants.LINE&&!e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor};color:${e.chart.type===e.constants.LINE&&!e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.color:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.color}`)},null,14,$e),l("button",{onClick:o[21]||(o[21]=a=>{e.chart.type=e.constants.BAR,e.showDonutOptions=!1}),innerHTML:t.icons.bar,class:m({"is-active-chart":e.chart.type===e.constants.BAR&&!e.showDonutOptions}),style:p(`background:${e.chart.type===e.constants.BAR&&!e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.backgroundColor};color:${e.chart.type===e.constants.BAR&&!e.showDonutOptions?t.FINAL_CONFIG.style.chart.modal.buttons.selected.color:t.FINAL_CONFIG.style.chart.modal.buttons.unselected.color}`)},null,14,De)]),l("div",Ge,[l("b",null,[C(d(r.dataset.header[e.currentSelectionSpan.col].name)+" ",1),r.dataset.header[e.currentSelectionSpan.col].isPercentage&&r.dataset.header[e.currentSelectionSpan.col].percentageTo?(i(),c("span",Me," / "+d(r.dataset.header[e.percentages[e.currentSelectionSpan.col].referenceIndex].name),1)):y("",!0),e.chart.type===e.constants.DONUT&&e.selectedDonutCategory&&e.selectedDonutCategory.name?(i(),c("span",Te,d(t.FINAL_CONFIG.translations.by)+" "+d(e.selectedDonutCategory.name),1)):y("",!0)])]),l("div",Pe,[e.showDonutOptions&&t.availableDonutCategories.length?(i(),c("div",{key:0,style:p(`background:${t.FINAL_CONFIG.style.chart.modal.backgroundColor};color:${t.FINAL_CONFIG.style.chart.modal.color}`)},[l("fieldset",Ee,[l("legend",null,d(t.FINAL_CONFIG.translations.chooseCategoryColumn),1),l("div",ze,[(i(!0),c(N,null,I(t.availableDonutCategories,(a,n)=>(i(),c("div",{key:`donut_radio_${n}`,class:"vue-ui-table-fieldset-option"},[l("input",{type:"radio",name:a.name,id:a.name,checked:e.selectedDonutCategory&&a.name===e.selectedDonutCategory.name,onInput:u=>e.selectedDonutCategory=t.availableDonutCategories[n],style:p(`background:${t.FINAL_CONFIG.style.inputs.backgroundColor};color:${t.FINAL_CONFIG.style.inputs.color};border:${t.FINAL_CONFIG.style.inputs.border};accent-color:${t.FINAL_CONFIG.style.inputs.accentColor}`)},null,44,Be),l("label",{for:a.name},d(a.name),9,He)]))),128))]),l("button",{class:"vue-ui-table-generate-donut",disabled:!e.selectedDonutCategory,onClick:o[22]||(o[22]=(...a)=>t.applyDonutOption&&t.applyDonutOption(...a)),style:p(`background:${t.FINAL_CONFIG.style.chart.modal.buttons.selected.backgroundColor};color:${t.FINAL_CONFIG.style.chart.modal.buttons.selected.color}`)},[l("div",{style:{"margin-bottom":"-3px"},innerHTML:t.icons.donut},null,8,je),C(" "+d(t.FINAL_CONFIG.translations.makeDonut),1)],12,Re)])],4)):y("",!0),[e.constants.BAR,e.constants.LINE].includes(e.chart.type)&&!e.showDonutOptions?(i(),c(N,{key:1},[(i(),c("svg",{viewBox:`0 0 ${e.chart.width} ${e.chart.height}`,class:"vue-ui-table-chart-svg",style:p(`background:${t.FINAL_CONFIG.style.chart.layout.backgroundColor}`)},[l("defs",null,[l("marker",{id:"arrowhead",markerWidth:t.FINAL_CONFIG.style.chart.layout.progression.arrowSize,markerHeight:t.FINAL_CONFIG.style.chart.layout.progression.arrowSize,refX:"0",refY:t.FINAL_CONFIG.style.chart.layout.progression.arrowSize/2,orient:"auto"},[l("polygon",{points:`0 0, ${t.FINAL_CONFIG.style.chart.layout.progression.arrowSize} ${t.FINAL_CONFIG.style.chart.layout.progression.arrowSize/2}, 0 ${t.FINAL_CONFIG.style.chart.layout.progression.arrowSize}`,fill:t.FINAL_CONFIG.style.chart.layout.progression.stroke},null,8,Xe)],8,Ve)]),l("g",null,[l("line",{x1:0,x2:e.chart.width,y1:t.chartData.zero,y2:t.chartData.zero,stroke:t.FINAL_CONFIG.style.chart.layout.axis.stroke,"stroke-width":t.FINAL_CONFIG.style.chart.layout.axis.strokeWidth,"stroke-linecap":"round"},null,8,We),l("line",{x1:0,x2:0,y1:0,y2:e.chart.height,stroke:t.FINAL_CONFIG.style.chart.layout.axis.stroke,"stroke-width":t.FINAL_CONFIG.style.chart.layout.axis.strokeWidth,"stroke-linecap":"round"},null,8,Ye)]),e.chart.type===e.constants.LINE?(i(!0),c(N,{key:0},I(t.chartData.plots,(a,n)=>(i(),c("g",{key:`trap_fill_${n}`},[l("rect",{x:n*t.chartData.slot,y:0,width:t.chartData.slot,height:e.chart.height,fill:e.selectedPlot===n?"rgba(0,0,0,0.03)":"transparent"},null,8,Ke)]))),128)):y("",!0),(i(!0),c(N,null,I(t.chartData.plots,(a,n)=>(i(),c("g",{key:`plot_${n}`},[e.chart.type===e.constants.BAR?(i(),c(N,{key:0},[Je,l("rect",{x:a.x-t.chartData.slot/2,y:t.chartData.isAllNegative?0:t.calcRectY(a.value,a.y),height:a.value>=0?t.chartData.zero-a.y:t.chartData.isAllNegative?a.y:a.y-t.chartData.zero,width:t.chartData.slot,fill:t.FINAL_CONFIG.style.chart.layout.bar.fill?t.FINAL_CONFIG.style.chart.layout.bar.fill:e.selectedPlot===n?a.value>=0?"url(#barGradientSelected)":"url(#barGradientSelectedNeg)":(a.value>=0,"url(#barGradient)"),stroke:t.FINAL_CONFIG.style.chart.layout.bar.stroke,"stroke-width":"1"},null,8,Ze),e.selectedPlot===n?(i(),c("foreignObject",{key:0,x:a.x-(t.chartData.slot<100?50:t.chartData.slot/2),y:a.value>=0?a.y-32:a.y+4,height:"20",width:t.chartData.slot<100?100:t.chartData.slot,style:{overflow:"visible"}},[l("div",{style:p(`width:100%;text-align:center;font-size:20px;color:${t.FINAL_CONFIG.style.chart.layout.labels.color}`)},d(a.prefix)+" "+d(Number(a.value.toFixed(r.dataset.header[e.currentSelectionSpan.col].decimals)).toLocaleString())+" "+d(a.suffix),5)],8,qe)):y("",!0)],64)):y("",!0),e.chart.type===e.constants.LINE?(i(),c(N,{key:1},[n+1<t.chartData.plots.length?(i(),c("line",{key:0,x1:a.x,y1:a.y,x2:t.chartData.plots[n+1].x,y2:t.chartData.plots[n+1].y,"stroke-width":t.FINAL_CONFIG.style.chart.layout.line.strokeWidth,stroke:t.FINAL_CONFIG.style.chart.layout.line.stroke},null,8,Qe)):y("",!0),e.selectedPlot===n?(i(),c("line",{key:1,x1:a.x,y1:a.y,x2:a.x,y2:e.chart.height,stroke:t.FINAL_CONFIG.style.chart.layout.line.selector.stroke,"stroke-width":t.FINAL_CONFIG.style.chart.layout.line.selector.strokeWidth,"stroke-dasharray":t.FINAL_CONFIG.style.chart.layout.line.selector.strokeDasharray},null,8,ts)):y("",!0),l("circle",{cx:a.x,cy:a.y,r:e.selectedPlot===n?t.FINAL_CONFIG.style.chart.layout.line.plot.radius.selected:t.FINAL_CONFIG.style.chart.layout.line.plot.radius.unselected,fill:t.FINAL_CONFIG.style.chart.layout.line.plot.fill,stroke:t.FINAL_CONFIG.style.chart.layout.line.plot.stroke,"stroke-width":t.FINAL_CONFIG.style.chart.layout.line.plot.strokeWidth},null,8,es),e.selectedPlot===n?(i(),c("foreignObject",{key:2,x:a.x-(t.chartData.slot<100?50:t.chartData.slot/2),y:t.placeLabelOnTopOrBottom({previousPlot:t.chartData.plots[n-1],currentPlot:a,nextPlot:t.chartData.plots[n+1]}),height:"20",width:t.chartData.slot<100?100:t.chartData.slot,style:{overflow:"visible"}},[l("div",{style:p(`width:100%;text-align:center;font-size:20px;color:${t.FINAL_CONFIG.style.chart.layout.labels.color}`)},d(a.prefix)+" "+d(Number(a.value.toFixed(r.dataset.header[e.currentSelectionSpan.col].decimals)).toLocaleString())+" "+d(a.suffix),5)],8,ss)):y("",!0)],64)):y("",!0)]))),128)),(i(!0),c(N,null,I(t.chartData.plots,(a,n)=>(i(),c("g",{key:`trap_${n}`},[l("rect",{x:n*t.chartData.slot,y:0,width:t.chartData.slot,height:e.chart.height,fill:"transparent",onMouseenter:u=>e.selectedPlot=n,onMouseleave:o[23]||(o[23]=u=>e.selectedPlot=void 0)},null,40,os)]))),128)),t.chartData.progression&&t.chartData.plots.length>2?(i(),c("line",{key:1,x1:t.chartData.progression.x1,y1:t.chartData.progression.y1,x2:t.chartData.progression.x2,y2:t.chartData.progression.y2,stroke:t.FINAL_CONFIG.style.chart.layout.progression.stroke,"stroke-width":t.FINAL_CONFIG.style.chart.layout.progression.strokeWidth,"stroke-dasharray":t.FINAL_CONFIG.style.chart.layout.progression.strokeDasharray,"marker-end":"url(#arrowhead)"},null,8,as)):y("",!0)],12,Ue)),t.chartData.plots.length>=2?(i(),c("div",{key:0,class:"chart-trend",style:p(`color:${t.FINAL_CONFIG.style.chart.modal.color}`)},[ns,C(" Trend: "+d((t.chartData.progression.trend*100).toFixed(1))+" % ",1)],4)):y("",!0)],64)):y("",!0),[e.constants.DONUT].includes(e.chart.type)&&!e.showDonutOptions?(i(),c(N,{key:2},[(i(),c("svg",{viewBox:"0 0 100 100",style:p(`max-width:100%; overflow: visible; padding: 0 24px;background:${t.FINAL_CONFIG.style.chart.layout.backgroundColor}`),class:"vue-ui-table-donut-chart"},[(i(!0),c(N,null,I(e.currentDonut,(a,n)=>(i(),c("path",{key:`arc_${n}`,d:a.path,stroke:`${a.color}CC`,"stroke-width":20,fill:"none"},null,8,rs))),128)),(i(!0),c(N,null,I(e.currentDonut,(a,n)=>(i(),c("foreignObject",{key:`text_marker_${n}`,x:t.calcDonutMarkerLabelPositionX(a)-15,y:a.center.endY-15,height:"30",width:"30",style:{overflow:"visible",display:"flex","align-items":"center","justify-content":"center"}},[t.isArcBigEnough(a)?(i(),c("div",{key:0,class:"vue-ui-table-donut-label",style:p(`color:${t.FINAL_CONFIG.style.chart.layout.labels.color}`)},[l("b",null,d(t.displayArcPercentage(a,e.currentDonut)),1),l("span",is,d(a.name),1)],4)):y("",!0)],8,ls))),128)),l("text",{x:50,y:42,"text-anchor":"middle","font-size":"6",fill:t.FINAL_CONFIG.style.chart.layout.labels.color},d(t.FINAL_CONFIG.translations.total),9,cs),l("text",{x:50,y:48,"text-anchor":"middle","font-size":"4",fill:t.FINAL_CONFIG.style.chart.layout.labels.color},d(r.dataset.header[e.currentSelectionSpan.col].prefix)+" "+d(t.donutHollowLabels.total)+" "+d(r.dataset.header[e.currentSelectionSpan.col].isPercentage?"%":"")+" "+d(r.dataset.header[e.currentSelectionSpan.col].suffix),9,ds),l("text",{x:50,y:56,"text-anchor":"middle","font-size":"6",fill:t.FINAL_CONFIG.style.chart.layout.labels.color},d(t.FINAL_CONFIG.translations.average),9,hs),l("text",{x:50,y:62,"text-anchor":"middle","font-size":"4",fill:t.FINAL_CONFIG.style.chart.layout.labels.color},d(r.dataset.header[e.currentSelectionSpan.col].prefix)+" "+d(t.donutHollowLabels.average)+" "+d(r.dataset.header[e.currentSelectionSpan.col].isPercentage?"%":"")+" "+d(r.dataset.header[e.currentSelectionSpan.col].suffix),9,us)],4)),l("div",ps,[(i(!0),c(N,null,I(e.currentDonut.filter(a=>a.value>0),(a,n)=>(i(),c("div",{class:"vue-ui-table-donut-legend-item",key:`donut_legend_${n}`,style:p(`color:${t.FINAL_CONFIG.style.chart.layout.labels.color}`)},[l("span",{style:p(`color:${a.color}`)},"●",4),l("span",null,d(a.name)+" : ",1),l("b",null,d(r.dataset.header[e.currentSelectionSpan.col].prefix)+" "+d(t.getDonutLegendValue(a.absoluteValue))+" "+d(r.dataset.header[e.currentSelectionSpan.col].isPercentage?"%":"")+" "+d(r.dataset.header[e.currentSelectionSpan.col].suffix),1),l("span",null,"("+d((a.proportion*100).toFixed(1))+"%)",1)],4))),128))])],64)):y("",!0)],512)],4)):y("",!0)],4)}const bs=U(V,[["render",gs],["__scopeId","data-v-5a108fbd"]]);export{bs as default};
